<div class="container mx-auto sm:w-full md:w-10/12 lg:w-3/4 p-4">
  <h1 class="text-gray-800">User Dashboard</h1>
  <div class="surveys-masonry">
    <% @user_surveys.each do |survey| %>
      <div class="survey-tile" >
        <div class="survey-tile__removal-block">
          <div data-controller="modal">
            <button type="button" class="" data-action='click->modal#display'>
              <i class="fas fa-times text-red-600"></i>
            </button>
            <div class="modal" data-modal-target="popup" data-action='click->modal#overlayHide'>
              <div class="md:w-1/3 sm:w-full rounded-lg shadow-lg bg-white my-3">
                <div class="flex justify-between border-b border-gray-100 px-5 py-4">
                  <div class="flex items-center">
                    <i class="fa fa-exclamation-triangle text-red-500 mr-2"></i>
                    <h6 class="text-gray-800">Remove Photo</h6>
                  </div>
                  <div>
                    <button><i class="fa fa-times-circle text-red-500 hover:text-red-600 transition duration-150" data-action='click->modal#hide'></i></button>
                  </div>
                </div>
                <div class="px-10 py-5 text-gray-600">
                  <p class="sub-text">Please remember when you remove a photo, you'll also be deleting any votes cast for the photo.</p>
                  <br>
                  <p class="sub-text">If you wish to keep the photo & results, but remove it from circulation please click below:</p>
                  <button type="button" class="my-4 py-2 text-red-500
                      rounded border border-red-500 inline-block
                      hover:bg-red-400 hover:border-red-400 hover:text-white focus:outline-none
                      transition duration-300 w-full">
                    Remove Photo from Circulation
                  </button>
                  <p class="sub-text">If you're sure about deleting the photo, please click below:</p>
                  <button type="button" class="my-4 py-2 bg-red-500 text-white
                      rounded border border-red-500 inline-block
                      hover:bg-red-400 hover:border-red-400 focus:outline-none
                      transition duration-300 w-full">
                    Delete Photo
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="survey-tile__options-block">
          <%= link_to '<i class="fas fa-edit text-yellow-400"></i>'.html_safe, new_survey_choice_path(survey) %>
          <% if survey.published? %>
            <%= link_to '<i class="fas fa-vote-yea text-green-500"></i>'.html_safe, survey_results_path(survey) %>
          <% end %>
          <%# TODO: Add a delete action with a modal are you sure? %>
        </div>
        <%= cl_image_tag survey.photo.key, crop: :fill, class: 'rounded' %>
      </div>
    <% end %>
  </div>
</div>
